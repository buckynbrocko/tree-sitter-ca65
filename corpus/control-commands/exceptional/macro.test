================================================================================
Macros
================================================================================


.macro outer arg0, arg1, arg2
  .macro inner arg0, arg1, arg2
    adc 4
    sty
    jmp ($BEEF, x)
  .endmacro
  adc 4
  sty
  jmp ($BEEF, x)
.endmacro

outer 1
outer ,
outer 1, 2, 3
outer , id

qualified::macro::invocation

--------------------------------------------------------------------------------

(source_file
  (macro_declaration
    (command)
    name: (identifier)
    parameters: (macro_parameters
      (identifier)
      (identifier)
      (identifier))
    body: (block
      (macro_declaration
        (command)
        name: (identifier)
        parameters: (macro_parameters
          (identifier)
          (identifier)
          (identifier))
        body: (block
          (instruction
            mnemonic: (mnemonic)
            address: (absolute_address
              (decimal_literal)))
          (instruction
            mnemonic: (mnemonic))
          (instruction
            mnemonic: (mnemonic)
            address: (indirect_x
              (hex_literal)
              (x))))
        (command))
      (instruction
        mnemonic: (mnemonic)
        address: (absolute_address
          (decimal_literal)))
      (instruction
        mnemonic: (mnemonic))
      (instruction
        mnemonic: (mnemonic)
        address: (indirect_x
          (hex_literal)
          (x))))
    (command))
  (macro_invocation
    name: (identifier)
    (macro_arguments
      (decimal_literal)))
  (macro_invocation
    name: (identifier)
    (macro_arguments
      (comma)))
  (macro_invocation
    name: (identifier)
    (macro_arguments
      (decimal_literal)
      (comma)
      (decimal_literal)
      (comma)
      (decimal_literal)))
  (macro_invocation
    name: (identifier)
    (macro_arguments
      (comma)
      (identifier)))
  (macro_invocation
    name: (qualified_symbol
      (identifier)
      (identifier)
      (identifier))))
